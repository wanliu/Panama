<div class='activity' activity-id='<%= activity.id %>' id="activity<%= activity.id %>">
  <div class='out-box'>
    <form>
    <div class='in-box'>
      <%= image_tag activity.photos.avatar, :class => "preview a-#{activity.id}" %>
    </div>

    <div class='summary'>
      <h5 class="title"><%= activity.title %></h5>
      <p style="word-wrap:break-word;"><%= activity.description %></p>
    </div>
    <div class='userinfo'>
      <%= image_tag activity.author.icon, :class => [:author, :'img-circle'] %>
      <p>
        <a href="<%= person_path(activity.author) %>">
          <%= activity.author.login %>
        </a>
      </p>
      <span>参与 <%= activity.participate || 0%> </span>
      <span class='like-count'>支持 <%= activity.like || 0 %></span>
    </div>
    <div class="buttons">
      <% if activity.start_sale? %>
        <%= link_to '#', class: 'btn btn-danger launch-button' do %>
          <%= icon('shopping-cart') + " 查看" %>
        <% end %>

        <% if activity.likes.exists?(current_user) %>
          <%= link_to '#', class: 'btn unlike-button active' do %>
            <%= "取消支持" %>
          <% end %>
        <% else %>
          <%= link_to '#', class: 'btn like-button' do %>
            <%= icon(:'thumbs-up') + " 支持" %>
          <% end %>
        <% end %>
      <% end %>
    </div>
    </form>

  </div>
</div>

<script type="text/javascript">
  var effect = "fadeInRight";
  $('.activity')
    .hover(function(event){
      $(event.currentTarget)
        .find(".right_bottom2")
        .addClass("animate1 " + effect);
      $(event.currentTarget)
        .find(".right_bottom1")
        .addClass("animate2 " + effect);
      // $(event.currentTarget)
      //  .find(".preview")
      //  .addClass("animate0 " + "flipInY");
    })
    .mouseleave(function(event){
      $(event.currentTarget)
        .find(".right_bottom2")
        .removeClass("animate1 " + effect);
      $(event.currentTarget)
        .find(".right_bottom1")
        .removeClass("animate2 " + effect);
      // $(event.currentTarget)
      //  .find(".preview")
      //  .removeClass("animate0 " + "flipInY");
    })
</script>
