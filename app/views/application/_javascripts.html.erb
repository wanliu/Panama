<%= requirejs_include_tag "application" %>
<script type="text/javascript">
    require.config({
        deps: ["application"],

		paths: {
			"jquery": "jquery"
			, "jqueryui": "lib/jqueryui"
			, "underscore": "lib/underscore"
			, "templates": "templates"
			, "jquery_columnview": "lib/jquery.columnview"
			, "fileuploader": "lib/fileuploader"
			, "hogan": "lib/hogan"
		},

		shim: {
			"underscore": {
				exports: "_"
			},
			"jquery": {
				exports: "$",
				deps: ["jquery", "jquery_ujs"]
			},
			"jquery-ui": {
				exports: "$",
				deps: [ "jquery"]
			},
			"hallo" : {
				deps: ['annotate']
			},
			'annotate': {
				deps: ['vie-2.1.0.debug']
			},
			'vie-2.1.0.debug': {
				deps: ['backbone']
			},
			"backbone": {
				deps: ["lib/underscore"], 
				exports: "Backbone"
			},
			"bootstrap": ['jquery'],
			"jquery_columnview" : {
				exports : "$",
				deps : ["jquery"]
			},
			"fileuploader": {
				exports: "qq"
			},
			"hogan": {
				exports: "Hogan"
			}
		}
	});	
</script>

<%# Append your own using content_for :javascripts %>
<%= yield :javascripts %>



<%# asynchronous google analytics: mathiasbynens.be/notes/async-analytics-snippet %>
<%# Looks for google_account_id first in ENV['GOOGLE_ACCOUNT_ID'] then in config/html5_rails.yml %>
<% if !google_account_id.blank? %>
  <script>
    //<![CDATA[
      var _gaq=[['_setAccount','<%= google_account_id %>'],['_trackPageview']];
      (function(d,t){var g=d.createElement(t),s=d.getElementsByTagName(t)[0];
      g.src=('https:'==location.protocol?'//ssl':'//www')+'.google-analytics.com/ga.js';
      s.parentNode.insertBefore(g,s)}(document,'script'));
    //]]>
  </script>
<% end %>