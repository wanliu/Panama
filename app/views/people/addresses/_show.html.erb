<div class="address address<%=address.id%> out-box">
	<div class="address-header">
		<h3>地址<%= index + 1 %></h3>
		<div class="pull-right">
			<button href="#edit_address"  class="btn" type="button" data-toggle="modal">编辑</button>
			<button class="btn btn-danger" type="button">删除</button>
		</div>
	</div>
	<div class="in-box">
		<div class="row-fluid">
			<div class="span2">
				<label class="control-label">收货地址：</label>
			</div>
			<div class="span4">
				<%= address.try(:location) %>
			</div>
		</div>

		<div class="row-fluid">
			<div class="span2">
				<label class="control-label">邮编：</label>
			</div>
			<div class="span4">
				<small><%= address.try(:zip_code) %></small>
			</div>
		</div>
	</div>
</div>

<div id="edit_address" class="modal hide fade" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
  <div class="modal-header">
    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
    <h3 id="myModalLabel">编辑地址</h3>
  </div>
  <div class="modal-body">
    <%= render :partial => "people/addresses/form", :locals => {:people => @people, :address => address} %>
  </div>
  <div class="modal-footer">
    <button class="btn" data-dismiss="modal" aria-hidden="true">关闭</button>
    <button class="btn btn-primary">保存</button>
  </div>
</div>

<script type="text/javascript">
  new Address({
    el: $(".address<%= address.id %>"),
    model: {
      id: <%= address.id %>
    }
  })
</script>